<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>VR Hotspot</title>
  <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg" />
  <meta name="theme-color" content="#0d1117" />
  <link rel="stylesheet" href="/assets/ui.css" />
  <!-- INLINE_CSS -->
  <script defer src="/assets/qrcode.js"></script>
  <script defer src="/assets/chart.js"></script>
  <!-- Font import (optional, generic system fonts are fine but this suggests intent) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body data-ui-mode="basic" data-auth-state="pending">
  <div id="login-splash" class="login-splash" data-auth-view="splash">
    <div class="login-splash-inner">
      <img class="login-logo" src="/assets/logo.png" alt="VR Hotspot" />
      <form id="loginForm" class="login-form" autocomplete="off">
        <input id="loginToken" type="password" placeholder="API Token" />
        <button class="btn primary" id="btnLoginSubmit" type="submit">Continue</button>
      </form>
      <div id="loginError" class="small mt-10 error-text" role="alert"></div>
    </div>
  </div>

  <div class="app-container" data-auth-view="app">
    <header class="top-header">
      <div class="header-brand">
        <img class="brand-logo-small" src="/assets/logo.png" alt="VR Hotspot" />
      </div>
      <div class="header-controls">
        <div class="ui-mode-toggle">
          <span class="mode-label small">Basic</span>
          <label class="slider-toggle" title="Basic/Advanced UI">
            <input type="checkbox" id="uiModeToggle" />
            <span class="slider"></span>
          </label>
          <span class="mode-label small">Pro</span>
        </div>
      </div>
    </header>

    <!-- QR Modal -->
    <div id="qrModal" class="modal-overlay" style="display:none">
      <div class="modal-content">
        <h3>Scan to Connect</h3>
        <div id="qrPlaceholder"></div>
        <div class="small mt-10" id="qrSsidRaw"></div>
        <button class="btn secondary mt-12" id="btnCloseQr">Close</button>
      </div>
    </div>

    <!-- BASIC UI SECTION -->
    <div class="basic-container" data-ui-section="basic">
      <div class="basic-grid">
        <div class="card basic-card">
          <div class="card-header">
            <h2>Status & Control</h2>
          </div>
          <div class="card-body">
            <div id="basicPillContainer" class="status-indicator-lg mb-12">
              <div id="basicPill" class="pill">
                <div class="dot"></div><span id="basicPillTxt">Loading‚Ä¶</span>
              </div>
            </div>
            <div class="small meta-text" id="basicStatusAdapterBand">Adapter: -- | Band: --</div>
            <div class="small mt-6" id="basicStatusDetails"></div>
            <div class="small mt-6 error-text" id="basicLastError"></div>
            <div class="small mt-6 error-text" id="basicLastErrorDetail"></div>
            <div id="basicTelemetryContainer"
              style="display:none; font-family:monospace; margin-top:12px; padding:8px; background:var(--bg-subtle); border-radius:4px; font-size:11px;">
            </div>

            <div class="action-group mt-12 basic-status-actions">
              <button class="btn primary" id="btnStartBasic">Start</button>
              <button class="btn danger" id="btnStopBasic">Stop</button>
              <button class="btn secondary" id="btnRepairBasic">Repair</button>
              <button class="btn secondary" id="btnRefreshBasic" title="Refresh" aria-label="Refresh">Refresh</button>
            </div>

            <div class="control-row mt-12 basic-status-preferences">
              <label class="tog" title="Hide logs">
                <input type="checkbox" id="privacyModeBasic" /> Privacy
              </label>
              <label class="tog" title="Auto refresh">
                <input type="checkbox" id="autoRefreshBasic" /> Refresh Status
                <span class="tip" data-tip="Updates the status of the connection and connected devices."
                  aria-label="Updates the status of the connection and connected devices." tabindex="0">‚ìò</span>
              </label>
              <select id="refreshEveryBasic" class="mini-select" aria-label="Refresh interval" hidden>
                <option value="2000">2s</option>
              </select>
              <label class="tog" title="Show Telemetry">
                <input type="checkbox" id="showTelemetryBasic" /> Stats
                <span class="tip"
                  data-tip="Enables a quick glimpse of devices connected and connection speed."
                  aria-label="Enables a quick glimpse of devices connected and connection speed."
                  tabindex="0">‚ìò</span>
              </label>
            </div>
            <div class="small mt-6 faded" id="privacyHintBasic">Privacy mode hides logs</div>

            <div id="msgBasic" class="small mt-10"></div>
            <div id="dirtyBasic" class="small mt-6 warning-text"></div>
          </div>
        </div>

        <div class="card basic-card">
          <div class="card-header">
            <h2>Quick Setup</h2>
          </div>
          <div class="card-body">
            <div id="basicInfoBanner" class="info-banner" style="display:none"></div>
            <div id="basicChannelBanner" class="info-banner warn" style="display:none"></div>
            <div id="basicQuickFields" class="form-stack"></div>
            <div class="basic-connect-inline mt-12">
              <div id="basicConnectFields" class="form-stack"></div>
              <div class="form-group mb-0">
                <label style="font-size:12px; text-transform:uppercase; color:var(--text-muted);">Passphrase</label>
                <div class="input-with-action">
                  <input id="wpa2_passphrase_basic" type="password" placeholder="Saved" />
                  <button id="btnRevealPassBasic" class="btn icon-only" title="Show">üëÅ</button>
                </div>
              </div>
              <div class="action-group mt-12 wrap-btns basic-connect-actions">
                <button class="btn secondary" id="btnCopySsid">Copy SSID</button>
                <button class="btn secondary" id="btnCopyPass">Copy passphrase</button>
                <button class="btn secondary" id="btnShowQrBasic">QR Code</button>
                <button class="btn primary" id="btnSavePassBasic" title="Save passphrase"
                  aria-label="Save passphrase">Save passphrase</button>
              </div>
              <div class="small mt-6 faded" id="copyHint"></div>
            </div>
          </div>
        </div>
      </div>
    </div>


    <!-- ADVANCED UI SECTION -->
    <div class="advanced-layout" data-ui-section="advanced">

      <!-- Sidebar Navigation -->
      <nav class="sidebar">
        <ul class="nav-list">
          <li class="nav-item active" data-tab="overview">
            <span class="icon">üìä</span> Overview
          </li>
          <li class="nav-item" data-tab="settings">
            <span class="icon">‚öôÔ∏è</span> Settings
          </li>
          <li class="nav-item" data-tab="telemetry">
            <span class="icon">üìà</span> Telemetry
          </li>
          <li class="nav-item" data-tab="logs">
            <span class="icon">üìú</span> Logs
          </li>
        </ul>

        <div class="sidebar-footer">
          <label class="tog block-tog">
            <input type="checkbox" id="privacyMode" />
            <span>Privacy Mode</span>
          </label>
          <div class="small mt-6 faded" id="privacyHint">Privacy mode hides logs</div>
          <div class="small mt-12 faded" id="uiVersionInfo">
            <span id="uiVersion">v0.4</span> <span id="uiOsName" class="small faded"></span>
          </div>
        </div>
      </nav>

      <!-- Main Content Area -->
      <main class="content-area">

        <!-- Tab: Overview -->
        <div id="tab-overview" class="tab-pane active">
          <div class="grid-overview">
            <div class="card status-hero">
              <h2>Service Status</h2>
              <div id="statusPillContainer" class="hero-status">
                <div id="pill" class="pill large">
                  <div class="dot"></div><span id="pillTxt">Loading‚Ä¶</span>
                </div>
              </div>
              <div class="hero-meta">
                <div id="statusEffective" class="status-summary"></div>
                <div id="statusLastError" class="small mt-6 error-text"></div>
                <div id="statusErrorDetail" class="small mt-6 error-text"></div>
              </div>
              <div class="hero-controls">
                <div class="hero-actions">
                  <button class="btn primary lg" id="btnStart">Start Hotspot</button>
                  <button class="btn danger lg" id="btnStop">Stop Hotspot</button>
                  <button class="btn secondary" id="btnRestart">Restart Service</button>
                  <button class="btn secondary" id="btnRepair">Repair Network</button>
                </div>
                <div class="control-row hero-quick-controls">
                  <button class="btn secondary" id="btnRefresh" title="Refresh">Refresh</button>
                  <label class="tog" title="Auto refresh">
                    <input type="checkbox" id="autoRefresh" /> Auto
                  </label>
                  <select id="refreshEvery" class="mini-select">
                    <option value="2000">2s</option>
                    <option value="3000">3s</option>
                    <option value="5000">5s</option>
                  </select>
                </div>
              </div>
              <div id="msg" class="small mt-10 hero-feedback"></div>
              <div id="dirty" class="small mt-6 warning-text hero-feedback"></div>
            </div>

            <div class="card debug-details">
              <div class="card-header">
                <h2>Pro Debug Details</h2>
              </div>
              <div class="card-body">
                <div class="kv-grid">
                  <div class="kv-item">
                    <div class="kv-label">Adapter</div>
                    <div class="kv-value" id="dbgAdapter">--</div>
                  </div>
                  <div class="kv-item">
                    <div class="kv-label">AP Interface</div>
                    <div class="kv-value" id="dbgApInterface">--</div>
                  </div>
                  <div class="kv-item">
                    <div class="kv-label">Band</div>
                    <div class="kv-value" id="dbgBand">--</div>
                  </div>
                  <div class="kv-item">
                    <div class="kv-label">Width</div>
                    <div class="kv-value" id="dbgWidth">--</div>
                  </div>
                  <div class="kv-item">
                    <div class="kv-label">Channel</div>
                    <div class="kv-value" id="dbgChannel">--</div>
                  </div>
                  <div class="kv-item">
                    <div class="kv-label">Country</div>
                    <div class="kv-value" id="dbgCountry">--</div>
                  </div>
                  <div class="kv-item">
                    <div class="kv-label">Uplink</div>
                    <div class="kv-value" id="dbgUplink">--</div>
                  </div>
                </div>

                <div class="mt-12">
                  <div class="small muted">Warnings</div>
                  <div class="badge-row" id="dbgWarnings"></div>
                </div>

                <div class="mt-12">
                  <details class="debug-accordion" id="dbgTelemetryAcc">
                    <summary>Telemetry</summary>
                    <div class="accordion-body">
                      <div class="kv-grid" id="dbgTelemetry"></div>
                    </div>
                  </details>

                  <details class="debug-accordion" id="dbgEngineAcc">
                    <summary>Engine</summary>
                    <div class="accordion-body">
                      <div class="kv-grid">
                        <div class="kv-item">
                          <div class="kv-label">PID</div>
                          <div class="kv-value" id="dbgEnginePid">--</div>
                        </div>
                        <div class="kv-item kv-span">
                          <div class="kv-label">Command</div>
                          <div class="kv-value mono" id="dbgEngineCmd">--</div>
                          <button class="btn sm mt-8" id="btnCopyEngineCmd">Copy command</button>
                        </div>
                      </div>
                    </div>
                  </details>

                  <details class="debug-accordion" id="dbgPreflightAcc">
                    <summary>Preflight</summary>
                    <div class="accordion-body">
                      <div class="kv-grid" id="dbgPreflight"></div>
                    </div>
                  </details>

                  <details class="debug-accordion" id="dbgPlatformAcc">
                    <summary>Platform</summary>
                    <div class="accordion-body">
                      <div class="kv-grid">
                        <div class="kv-item">
                          <div class="kv-label">OS</div>
                          <div class="kv-value" id="dbgPlatformOs">--</div>
                        </div>
                      </div>
                    </div>
                  </details>

                  <details class="debug-accordion" id="dbgRawAcc">
                    <summary>Raw JSON</summary>
                    <div class="accordion-body">
                      <button class="btn sm" id="btnToggleRawStatus">Show raw status JSON</button>
                      <pre id="rawStatusPre" class="mono-box code-block"></pre>
                    </div>
                  </details>
                </div>
              </div>
            </div>

          </div>
        </div>

        <!-- Tab: Settings -->
        <div id="tab-settings" class="tab-pane">
          <div class="settings-header">
            <h2>Configuration</h2>
            <div class="action-group">
              <button class="btn primary" id="btnSaveConfig">Save Changes</button>
              <button class="btn secondary" id="btnSaveRestart">Save & Restart</button>
            </div>
          </div>

          <div class="preset-bar">
            <span class="label">Performance Profile:</span>
            <div class="btn-group">
              <button class="btn sm" id="btnApplyVrProfileUltra">Ultra Low Latency</button>
              <button class="btn sm" id="btnApplyVrProfileHigh">High Throughput</button>
              <button class="btn sm" id="btnApplyVrProfile">Balanced</button>
              <button class="btn sm" id="btnApplyVrProfileStable">Stability</button>
            </div>
          </div>

          <div class="settings-columns">
            <!-- Wireless Column -->
            <div class="settings-group">
              <h3>Wireless</h3>
              <div class="form-group" data-field="ssid">
                <label for="ssid">SSID</label>
                <input id="ssid" />
              </div>
              <div class="form-group" data-field="wpa2_passphrase">
                <label for="wpa2_passphrase">Passphrase</label>
                <div class="input-with-action">
                  <input id="wpa2_passphrase" type="password" placeholder="Saved" />
                  <button id="btnRevealPass" class="btn icon-only" title="Show">üëÅ</button>
                </div>
                <div class="row mt-8">
                  <button class="btn sm secondary" id="btnShowQr">Show QR</button>
                  <div class="small" id="passHint"></div>
                </div>
              </div>

              <div class="form-group" data-field="band_preference">
                <div class="field-label-with-tip">
                  <label for="band_preference">Band Preference</label>
                  <span id="bandPreferenceTip" class="hint tip-only"></span>
                </div>
                <select id="band_preference">
                  <option value="6ghz">6ghz (Wi-Fi 6E)</option>
                  <option value="5ghz">5ghz</option>
                  <option value="2.4ghz">2.4ghz</option>
                </select>
                <div class="hint" id="bandHint"></div>
              </div>

              <div class="form-group" data-field="ap_security">
                <div class="field-label-with-tip">
                  <label for="ap_security">Security</label>
                  <span id="secHint" class="hint tip-only"></span>
                </div>
                <select id="ap_security">
                  <option value="wpa2">WPA2 (PSK)</option>
                  <option value="wpa3_sae">WPA3 (SAE)</option>
                </select>
              </div>

              <div class="form-group" id="fivegBox" data-field="channel_5g">
                <label for="channel_5g">5GHz Channel</label>
                <input id="channel_5g" type="number" step="1" min="36" max="177" placeholder="Auto" />
                <div class="hint" id="ch5Hint"></div>
              </div>

              <div class="form-group" id="sixgBox" data-field="channel_6g">
                <label for="channel_6g">6GHz Channel</label>
                <input id="channel_6g" type="number" step="1" min="1" max="233" placeholder="Auto" />
              </div>

              <div class="form-group" data-field="channel_width">
                <label for="channel_width">Channel Width</label>
                <select id="channel_width">
                  <option value="auto">Auto (Max)</option>
                  <option value="20">20 MHz</option>
                  <option value="40">40 MHz</option>
                  <option value="80">80 MHz</option>
                  <option value="160">160 MHz</option>
                </select>
              </div>

              <div class="form-row two-col" data-field="beacon_interval">
                <div>
                  <label for="beacon_interval">Beacon (TU)</label>
                  <input id="beacon_interval" type="number" step="1" min="20" max="1000" placeholder="50" />
                </div>
                <div>
                  <label for="dtim_period">DTIM</label>
                  <input id="dtim_period" type="number" step="1" min="1" max="255" placeholder="1" />
                </div>
              </div>

              <div class="form-group" data-field="short_guard_interval">
                <label class="tog"><input type="checkbox" id="short_guard_interval" /> Short Guard Interval</label>
              </div>

              <div class="form-group" data-field="tx_power">
                <label for="tx_power">TX Power (dBm)</label>
                <input id="tx_power" type="number" step="1" min="1" max="30" placeholder="Auto" />
              </div>

              <div class="form-group" data-field="channel_auto_select">
                <label class="tog"><input type="checkbox" id="channel_auto_select" /> Auto Channel Select (Scan)</label>
              </div>

              <div class="form-group" data-field="fallback_channel_2g">
                <label for="fallback_channel_2g">2.4GHz Fallback Channel</label>
                <input id="fallback_channel_2g" type="number" step="1" min="1" max="14" placeholder="6" />
              </div>

              <div class="form-group" data-field="country">
                <label>Country Code</label>
                <div class="input-with-action">
                  <select id="country_sel">
                    <option value="US">United States</option>
                    <option value="JP">Japan</option>
                    <option value="AU">Australia</option>
                    <option value="CA">Canada</option>
                    <option value="GB">United Kingdom</option>
                    <option value="DE">Germany</option>
                    <option value="FR">France</option>
                    <option value="ES">Spain</option>
                    <option value="IT">Italy</option>
                    <option value="NL">Netherlands</option>
                    <option value="SE">Sweden</option>
                    <option value="NO">Norway</option>
                    <option value="DK">Denmark</option>
                    <option value="FI">Finland</option>
                    <option value="CH">Switzerland</option>
                    <option value="PL">Poland</option>
                    <option value="CZ">Czechia</option>
                    <option value="KR">Korea</option>
                    <option value="SG">Singapore</option>
                    <option value="00">World (00)</option>
                    <option value="__custom">Custom‚Ä¶</option>
                  </select>
                  <input id="country" type="hidden" />
                </div>
              </div>

              <div class="form-group" data-field="ap_adapter">
                <div class="field-label-with-tip">
                  <label for="ap_adapter">Wi-Fi Adapter</label>
                  <span id="adapterLabelTip" class="hint tip-only"></span>
                </div>
                <select id="ap_adapter"></select>
                <div class="row mt-8">
                  <button class="btn sm" id="btnUseRecommended">Recommended</button>
                  <button class="btn sm" id="btnReloadAdapters">Rescan</button>
                </div>
                <div class="small mt-6" id="adapterHint"></div>
              </div>

            </div>

            <!-- Network & System Column -->
            <div class="settings-group">
              <h3>Network</h3>
              <div class="form-group" data-field="enable_internet">
                <label class="tog"><input type="checkbox" id="enable_internet" /> Share Internet Connection</label>
              </div>

              <div class="form-row two-col">
                <div data-field="lan_gateway_ip">
                  <label for="lan_gateway_ip">Gateway IP</label>
                  <input id="lan_gateway_ip" placeholder="192.168.68.1" />
                </div>
                <div data-field="dhcp_dns">
                  <label for="dhcp_dns">DNS</label>
                  <input id="dhcp_dns" placeholder="gateway" />
                </div>
              </div>

              <div class="form-row two-col">
                <div data-field="dhcp_start_ip">
                  <label for="dhcp_start_ip">DHCP Start</label>
                  <input id="dhcp_start_ip" placeholder="10" />
                </div>
                <div data-field="dhcp_end_ip">
                  <label for="dhcp_end_ip">DHCP End</label>
                  <input id="dhcp_end_ip" placeholder="250" />
                </div>
              </div>

              <div class="form-group" data-field="qos_preset">
                <label for="qos_preset">Connection profiles</label>

                <div class="qos-basic">
                  <div id="basicQosBanner" class="pillWarn info-banner">
                    Settings applied in Basic mode.
                  </div>
                  <div class="segmented">
                    <label class="seg"><input type="radio" name="qos_basic" value="off" /><span>Off</span></label>
                    <label class="seg"><input type="radio" name="qos_basic" value="ultra_low_latency" /><span>Speed</span></label>
                    <label class="seg"><input type="radio" name="qos_basic" value="vr" /><span>Stable</span></label>
                  </div>
                </div>

                <div class="qos-advanced">
                  <select id="qos_preset">
                    <option value="off">Off</option>
                    <option value="ultra_low_latency">Ultra Low Latency</option>
                    <option value="vr">VR (Stability)</option>
                    <option value="high_throughput">High Throughput</option>
                    <option value="balanced">Balanced</option>
                  </select>
                </div>
              </div>

              <div class="form-group" data-field="nat_accel">
                <label class="tog"><input type="checkbox" id="nat_accel" /> Hardware NAT Acceleration</label>
              </div>

              <div class="form-group" data-field="bridge_mode">
                <label class="tog"><input type="checkbox" id="bridge_mode" /> Bridge Mode</label>
                <div class="form-row two-col mt-8">
                  <input id="bridge_name" placeholder="vrbr0" />
                  <input id="bridge_uplink" placeholder="eth0" />
                </div>
              </div>

              <div class="form-group" data-field="firewalld_enabled">
                <label>Firewall Integration</label>
                <div class="tog-group">
                  <label class="tog"><input type="checkbox" id="firewalld_enabled" /> Enabled</label>
                  <label class="tog"><input type="checkbox" id="firewalld_enable_masquerade" /> Masq</label>
                  <label class="tog"><input type="checkbox" id="firewalld_enable_forward" /> Fwd</label>
                  <label class="tog"><input type="checkbox" id="firewalld_cleanup_on_stop" /> Cleanup</label>
                </div>
              </div>

              <h3 class="mt-12">System & Diagnostics</h3>
              <div id="platformStabilityChecklist" class="info-banner stability-banner" style="display:none">
                <div class="stability-title" id="platformStabilityTitle">Platform Pro Optimization Checklist</div>
                <ul class="stability-list" id="platformStabilityList"></ul>
              </div>
              <div class="form-group" data-field="ap_ready_timeout_s">
                <label for="ap_ready_timeout_s">Startup Timeout (s)</label>
                <input id="ap_ready_timeout_s" type="number" step="0.1" min="1" />
              </div>

              <div class="form-group" data-field="optimized_no_virt">
                <label class="tog"><input type="checkbox" id="optimized_no_virt" /> optimized_no_virt (No Virtual
                  Interface)</label>
              </div>

              <div class="form-group" data-field="wifi_power_save_disable">
                <div class="tog-group vertical">
                  <label class="tog"><input type="checkbox" id="wifi_power_save_disable" /> Disable Wi-Fi Power
                    Save</label>
                  <label class="tog"><input type="checkbox" id="usb_autosuspend_disable" /> Disable USB
                    Autosusiend</label>
                  <label class="tog"><input type="checkbox" id="cpu_governor_performance" /> CPU Performance
                    Mode</label>
                  <label class="tog"><input type="checkbox" id="sysctl_tuning" /> Enable sysctl tuning</label>
                  <label class="tog"><input type="checkbox" id="interrupt_coalescing" /> Enable interrupt
                    coalescing</label>
                </div>
              </div>

              <div class="form-group" data-field="debug">
                <label class="tog"><input type="checkbox" id="debug" /> Enable Debug Logging</label>
              </div>

            </div>
          </div>
        </div>

        <!-- Tab: Telemetry -->
        <div id="tab-telemetry" class="tab-pane">
          <div class="card" id="cardTelemetry">
            <div class="card-header">
              <h2>Real-time Telemetry</h2>
              <div class="small" id="telemetrySummary"></div>
              <div class="small warning-text" id="telemetryWarnings"></div>
            </div>
            <div class="card-body">
              <div class="chart-wrapper">
                <canvas id="rssiChart"></canvas>
              </div>
              <div class="chart-wrapper mt-12">
                <canvas id="rateChart"></canvas>
              </div>

              <div class="table-container mt-12">
                <button class="btn sm secondary mb-12" id="btnToggleTable">Toggle Client List</button>
                <table id="telemetryTable" style="display:none">
                  <thead>
                    <tr>
                      <th>Client</th>
                      <th>RSSI</th>
                      <th>TX Mbps</th>
                      <th>RX Mbps</th>
                      <th>Quality</th>
                      <th>Retries %</th>
                      <th>Loss %</th>
                    </tr>
                  </thead>
                  <tbody id="telemetryBody"></tbody>
                </table>
              </div>

              <div class="form-group mt-12" data-field="telemetry_enable">
                <label>Settings</label>
                <div class="tog-group">
                  <label class="tog"><input type="checkbox" id="telemetry_enable" /> Enable Telemetry</label>
                  <label class="tog"><input type="checkbox" id="connection_quality_monitoring" /> Quality
                    Monitoring</label>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Tab: Logs -->
        <div id="tab-logs" class="tab-pane">
          <div class="card full-height">
            <div class="card-header">
              <h2>Engine Output</h2>
              <span class="small faded">Stdout / Stderr</span>
            </div>
            <div class="card-body">
              <div class="mono log-viewer" id="stdout"></div>
              <div class="mono log-viewer error" id="stderr"></div>
            </div>
          </div>
        </div>

      </main>
    </div>
  </div>

  <script defer src="/assets/field_visibility.js"></script>
  <script defer src="/assets/ui.js"></script>
  <script>
    // Inline script for new dashboard navigation logic
    document.addEventListener('DOMContentLoaded', () => {
      const navItems = document.querySelectorAll('.nav-item');
      const tabs = document.querySelectorAll('.tab-pane');

      function switchTab(tabId) {
        // Update nav
        navItems.forEach(item => {
          if (item.dataset.tab === tabId) item.classList.add('active');
          else item.classList.remove('active');
        });

        // Update panes
        tabs.forEach(pane => {
          if (pane.id === 'tab-' + tabId) pane.classList.add('active');
          else pane.classList.remove('active');
        });
      }

      navItems.forEach(item => {
        item.addEventListener('click', () => {
          const tabId = item.dataset.tab;
          switchTab(tabId);
        });
      });
    });
  </script>
</body>

</html>
